<html><body>
<h1> VTK - The Visualization Toolkit (vtk.org) </h1>
<p>This page discusses possible improvements that we might make to the CC3D visualizations.  This first experiment was doing some
post-processing on .pif output files from a tumor growth/vascularization simulation (Abbas).  The basic approach taken was:
</p>
<ul><li> convert the .pif files to VTK-formatted files (<a href="Pif2vti.html" title="Pif2vti">pif2vti</a>)
</li><li> use VTK scripts to visualize results and experiment with different filters, etc.
</li><li> snapshot of frames from 2 movies (dead link for now: poincare.uits.iupui.edu/~heiland/abbas)
</li></ul>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="http://old.compucell3d.org/mediawiki1.7/index.php?title=VTK&amp;action=edit&amp;section=2" title="Edit section: Smoothing isosurfaces">edit</a>]</div><a name="Smoothing_isosurfaces"></a><h3> Smoothing isosurfaces </h3>
<p>We first begin with exploring how we might smooth the isosurfaces 
generated by VTK.  Consider a single frame/dataset from the second 
movie:
</p>
<p><img src="images/180px-Img324.jpg" alt="Frame from 2nd movie"
height="180"
width="180"></a>  <div class="thumbcaption"><div class="magnify"
style="float:right">
<img src="images/magnify-clip.png" alt="Enlarge" height="11" width="15"></div>Frame from 2nd movie</div></div></div></d<p>We generate 3 separate isosurfaces that correspond to 3 cell types: FroVasc = 1, Malignant = 2, Necrotic = 3 (there appears
to be no values for the 4th cell type, Vascular = 4, for this particular dataset):
</p><p>BUG ALERT:  I naively used vtkContourFilter to generate the isosurfaces shown here, but later discovered that in fact the
FroVasc surface should *only* contain the blood vessel-like structures and not the surface that looks like the tumor.
Ben pointed out that I should have used the vtkDiscreteMarchingCubes filter.  THANKS Ben!
</p>
<p><img src="images/T15002475-s1-s2-s3.png" alt="" longdesc="/mediawiki1.7/index.php/Image:T15002475-s1-s2-s3.png" height="298" width="833"></a></span></div>
<p>Using the isosurface (below, left) for the "Necrotic" cell types 
(buried in the interior), zoom in, and experiment with VTK's smoothing 
filter:
</p>
<p><img src="images/180px-T15002475-necrotic-contour.png" alt="Initial necrotic contour surface" longdesc="/mediawiki1.7/index.php/Image:T15002475-necrotic-contour.png" height="180" width="180"></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://old.compucell3d.org/mediawiki1.7/index.php/Image:T15002475-necrotic-contour.png" class="internal" title="Enlarge"><img src="VTK_files/magnify-clip.png" alt="Enlarge" height="11" width="15"></a></div>Initial necrotic contour surface</div></div></d<p><img src="images/180px-T15002475-necrotic-smooth100.png" alt="Laplacian smoothing: 100 iterations" longdesc="/mediawiki1.7/index.php/Image:T15002475-necrotic-smooth100.png" height="180" width="180"></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://old.compucell3d.org/mediawiki1.7/index.php/Image:T15002475-necrotic-smooth100.png" class="internal" title="Enlarge"><img src="VTK_files/magnify-clip.png" alt="Enlarge" height="11" width="15"></a></div>Laplacian smoothing: 100 iterations</div></div></<p><img src="images/180px-T15002475-necrotic-smooth300.png" alt="Laplacian smoothing: 300 iterations" longdesc="/mediawiki1.7/index.php/Image:T15002475-necrotic-smooth300.png" height="180" width="180"></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://old.compucell3d.org/mediawiki1.7/index.php/Image:T15002475-necrotic-smooth300.png" class="internal" title="Enlarge"><img src="VTK_files/magnify-clip.png" alt="Enlarge" height="11" width="15"></a></div>Laplacian smoothing: 300 iterations</div></div></<p><img src="images/180px-T15002475-necrotic-smooth800.png" alt="Laplacian smoothing: 800 iterations" longdesc="/mediawiki1.7/index.php/Image:T15002475-necrotic-smooth800.png" height="180" width="180"></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://old.compucell3d.org/mediawiki1.7/index.php/Image:T15002475-necrotic-smooth800.png" class="internal" title="Enlarge"><img src="VTK_files/magnify-clip.png" alt="Enlarge" height="11" width="15"></a></div>Laplacian smoothing: 800 iterations</div></div></<p><img src="images/Necrotic-smoothing-compare.png" alt="Comparing smoothing from below" longdesc="/mediawiki1.7/index.php/Image:Necrotic-smoothing-compare.png" height="308" width="905"></a></span></div>
<p>Comparing smoothing from below.
</p>
<p><img src="images/FroVasc-smoothing.png" alt="" longdesc="/mediawiki1.7/index.php/Image:FroVasc-smoothing.png" height="300" width="888"></a></span></div>
<p>Comparing smoothing on the FroVasc isosurface (100,300,and 800 
smoothing iterations; sorry, I changed color from the green above)
</p>
<p><img src="images/Xz-slice.png" alt="" longdesc="/mediawiki1.7/index.php/Image:Xz-slice.png" height="299" width="289"></a></span></div><div class="floatleft"><span>
<img src="images/Xz-slice-zoom.png" alt="" longdesc="/mediawiki1.7/index.php/Image:Xz-slice-zoom.png" height="299" width="300"></a></span></<p>
<p>Looking at the center XZ slice and a zoomed region.  Notice how cell type #1 (FroVasc, yellow) forms a thin boundary around
cell type #2 (Malignant, greenish).
</p><p><br>
</p>
<p><img src="images/S1-smooth100-800.jpg" alt="" longdesc="/mediawiki1.7/index.php/Image:S1-smooth100-800.jpg" height="304" width="572"></a></span></div>
<p>T15003250 (last dataset, 2nd movie; FroVasc cell type; 100 and 800 smoothing iters)
</p>
<p><img src="images/S2-smooth100-800.jpg" alt="" longdesc="/mediawiki1.7/index.php/Image:S2-smooth100-800.jpg" height="302" width="582"></a></span></div>
<p>T15003250 (last dataset, 2nd movie; Malignant cell type; 100 and 800 smoothing iters)
</p>
<p><img src="images/Clip-s1-s3.png" alt="" longdesc="/mediawiki1.7/index.php/Image:Clip-s1-s3.png" height="306" width="986"></a></span></div>
<p>We can also clip out part of the data, e.g. to reveal the inner structures.
</p>
<h3>Models from ZCorp 3-D Printer</h3>
<p><img src="images/180px-Tumor_models.jpg" alt="" longdesc="/mediawiki1.7/index.php/Image:Tumor_models.jpg" height="120" width="180"></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://old.compucell3d.org/mediawiki1.7/index.php/Image:Tumor_models.jpg" class="internal" title="Enlarge"><img src="VTK_files/magnify-clip.png" alt="Enlarge" height="11" width="15"></a></div></div></div></d<p><img src="images/180px-Abbas_models.jpg" alt="" longdesc="/mediawiki1.7/index.php/Image:Abbas_models.jpg" height="154" width="180"></a>  <div class="thumbcaption"><div class="magnify" style="float:right"><a href="http://old.compucell3d.org/mediawiki1.7/index.php/Image:Abbas_models.jpg" class="internal" title="Enlarge"><img src="VTK_files/magnify-clip.png" alt="Enlarge" height="11" width="15"></a></div></div></div></d<p>
These were the models we took to the Supercomputing 2008 conference and showed off in the IU booth.


</p><hr>
<li>Back to <a href="index.html">index</a></body></html>
